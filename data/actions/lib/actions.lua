ROPE_SPOT = {384, 418, 8278, 8592}
OPENED_HOLE = {294, 383, 392, 469, 470, 482, 484, 485, 489, 7933, 7938, 8249, 8250, 8251, 8252, 8253, 8254, 8255, 8256, 8323, 8380, 8567, 8585, 8972}
CLOSED_HOLE = {468, 481, 483, 7932, 8579}
OPENED_TRAP = {462, 9625}
DOWN_LADDER = {369, 370, 408, 409, 427, 428, 430, 924, 3135, 3136, 5545, 5763, 8170, 8276, 8277, 8279, 8280, 8281, 8284, 8285, 8286, 8595, 8596, 9606}
JUNGLE_GRASS_TRANSFORM = {2782, 3985}
JUNGLE_GRASS_REMOVE = {1499}
SPIDER_WEB = {7538, 7539}
WATER_WITH_FISH = {490, 4608}
WATER_WITHOUT_FISH = {491, 492, 493, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 4609, 4610, 4611, 4612, 4613, 4614, 4615, 4616, 4617, 4618, 4619, 4620, 4621, 4622, 4623, 4624, 4625, 4664, 4665, 4666, 4820, 4821, 4822, 4823, 4824, 4825}
JUNGLE_GRASS = {2782, 3985}
LIQUID_CONTAINER = {1775, 2005, 2006, 2007, 2008, 2009, 2011, 2012, 2013, 2014, 2015, 2023, 2031, 2032, 2033, 2034, 2562, 2574, 2575, 2576, 2577, 3941, 3942}
WATER = {490, 4608, 491, 492, 493, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627,
628, 629, 4609, 4610, 4611, 4612, 4613, 4614, 4615, 4616, 4617, 4618, 4619, 4620, 4621,
4622, 4623, 4624, 4625, 4664, 4665, 4666, 4820, 4821, 4822, 4823, 4824, 4825}
MUD = {103, 351, 352, 353, 354, 355}
LAVA = {598, 599, 600, 601, 1509}
SWAMP = {602, 603, 604, 605, 4691, 4692, 4693, 4694, 4695, 4696, 4697, 4698, 4699, 4700, 4701, 4702, 4703, 4704, 4705, 4706, 4707, 4708, 4709, 4710, 4711, 4712, 4749, 4750, 4751, 4752, 4753, 4754, 4755, 4758}
NORMAL_CORPSE_STAGE_I = {2317, 2806, 2808, 2813, 2820, 2824, 2826, 2830, 2835, 2839, 2844, 2849, 2853, 2860, 2862, 2864, 2866, 2871, 2876, 2881, 2886, 2889, 2893, 2905, 2908, 2914, 2920, 2924, 2928, 2931, 2935, 2938, 2940, 2945, 2960, 2967, 2969, 2972, 2979, 2981, 2983, 2985, 2987, 2992, 2995, 3019, 3043, 3046, 3055, 3058, 3065, 3067, 3069, 3073, 3077, 3080, 3084, 3086, 3090, 3095, 3099, 3104, 3109, 3113, 3119, 3128, 3129, 4251, 4253, 4256, 4259, 4262, 4265, 4268, 4271, 4274, 4277, 4280, 4283, 4286, 4289, 4292, 4295, 4298, 4301, 4304, 4307, 4310, 4314, 4317, 4323, 5960, 5962, 5964, 5966, 5967, 5968, 5969, 5970, 5971, 5973, 5975, 5976, 5978, 5979, 5980, 5981, 5982, 5983, 5984, 5985, 5986, 5987, 5991, 5993, 5994, 5995, 5996, 5997, 5998, 5999, 6000, 6001, 6002, 6003, 6004, 6005, 6006, 6007, 6008, 6009, 6010, 6011, 6012, 6013, 6014, 3015, 6016, 6017, 6019, 6020, 6022, 6025, 6026, 6028, 6029, 6031, 6032, 6033, 6034, 6035, 6038, 6939, 6040, 6041, 6042, 6043, 6044, 6045, 6046, 6048, 6049, 6051, 6052, 6053, 6054, 6055, 6056, 6057, 6058, 6059,  6061, 6063, 6064, 6065, 6062, 6067, 6069, 6073, 6074, 6075, 6076, 6077, 6078, 6079, 6080, 6081, 6083, 6302, 6303, 6312, 6313, 6320, 6321, 6328, 6331, 6333, 6336, 6337, 6340, 6341, 6364, 6365, 5540, 5625, 5628, 5666, 5688, 5727, 5762, 5765, 5934, 6520, 7092, 7256, 7283, 7317, 7321, 7325, 7328, 7331, 7335, 7339, 7345, 7623, 7624, 7629, 7638, 7741, 7848, 7927, 7930, 7931, 7970}
SWAMP_CORPSE_STAGE_I = {3068, 2807, 2817, 2848, 2857, 2897, 2899, 2902, 3004, 3007, 3010, 3013, 3077, 4289, 4313, 4320, 5961, 5974, 5977, 5988, 5989, 5990, 5992, 6343, 6344, 6060, 6062, 6018, 6021, 6023, 6024, 6036, 6037, 6047, 6050, 8272}
OVEN_ON = {1786, 1788, 1790, 1792, 6356, 6358, 6360, 6362}
LADDER = {1386, 3678, 5543, 8599}
CLOSED_NORMAL_DOOR = {1210, 1213, 1232, 1235, 1250, 1253, 3536, 3545, 4914, 4917, 5099, 5108, 5117, 5126, 5135, 5138, 5141, 5144}
OPENED_NORMAL_DOOR = {1211, 1214, 1233, 1236, 1251, 1254, 3537, 3546, 4915, 4918, 5100, 5109, 5117, 5118, 5136, 5139, 5142, 5145}
CLOSED_LOCKED_DOOR = {1219, 1221, 1237, 1239, 3538, 3547, 5082, 5084, 5101, 5110, 5119, 5128}
OPENED_LOCKED_DOOR = {1220, 1222, 1238, 1240, 3539, 3548, 5083, 5085, 5102, 5111, 5120, 5129}
CLOSED_LEVEL_DOOR = {1227, 1229, 1245, 1247, 1259, 1261, 3540, 3549, 5103, 5112, 5121, 5130}
OPENED_LEVEL_DOOR = {1228, 1230, 1246, 1248, 1260, 1262, 3541, 3550, 5104, 5113, 5122, 5131}
CLOSED_QUEST_DOOR = {1223, 1225, 1241, 1243, 1255, 1257, 3542, 3551, 5105, 5114, 5123, 5132}
OPENED_QUEST_DOOR = {1224, 1226, 1242, 1244, 1256, 1258, 3543, 3552, 5106, 5115, 5124, 5133}
DECAYTO_ITEM_INCREMENT = {2041, 2044, 2047, 2050, 2052, 2054, 5812, 7183, 9006}
CONSTRUCTIONS = {
	[3901] = 1650, [3902] = 1658, [3903] = 1666, [3904] = 1670, [3905] = 3813, [3906] = 3817, [3907] = 2093, [3908] = 2603, [3909] = 1614, [3910] = 1615,
	[3911] = 1616, [3912] = 1619, [3913] = 3805, [3914] = 3807, [3915] = 1740, [3916] = 1774, [3917] = 2084, [3918] = 2095, [3919] = 3809, [3920] = 3832,
	[3921] = 1714, [3922] = 2107, [3923] = 2104, [3924] = 7670, [3925] = 1740, [3926] = 2080, [3927] = 2098, [3928] = 1676, [3929] = 2101, [3930] = 1739,
	[3931] = 2105, [3932] = 1724, [3933] = 1728, [3934] = 1732, [3935] = 1775, [3936] = 3812, [3937] = 2064, [3938] = 6371, [5086] = 1738, [5087] = 1741, [5088] = 1770,
	[6114] = 2106, [6115] = 2034, [6372] = 3811, [6373] = 1736, [7503] = 1750, [7700] = 5928, [7960] = 3821, [7961] = 3811, [7962] = 2582, [8692] = 8688, [8693] = 7486
}

FOODS = {
	[2328] = {84, "Gulp."},	[2362] = {48, "Yum."}, [2666] = {180, "Munch."}, [2667] = {144, "Munch."},
	[2668] = {120, "Mmmm."}, [2669] = {204, "Munch."}, [2670] = {48, "Gulp."}, [2671] = {360, "Chomp."},
	[2672] = {720, "Chomp."}, [2673] = {60, "Yum."}, [2674] = {72, "Yum."}, [2675] = {156, "Yum."},
	[2676] = {96, "Yum."}, [2677] = {12, "Yum."}, [2678] = {216, "Slurp."}, [2679] = {12, "Yum."},
	[2680] = {24, "Yum."}, [2681] = {108, "Yum."}, [2682] = {240, "Yum."}, [2683] = {204, "Munch."},
	[2684] = {60, "Crunch."}, [2685] = {72, "Munch."}, [2686] = {108, "Crunch."}, [2687] = {24, "Crunch."},
	[2688] = {24, "Mmmm."}, [2689] = {120, "Crunch."}, [2690] = {72, "Crunch."}, [2691] = {96, "Crunch."},
	[2695] = {72, "Gulp."}, [2696] = {108, "Smack."}, [2769] = {60, "Crunch."}, [2787] = {108, "Crunch."},
	[2788] = {48, "Crunch."}, [2789] = {264, "Munch."}, [2790] = {360, "Crunch."}, [2791] = {108, "Crunch."},
	[2792] = {72, "Crunch."}, [2793] = {144, "Crunch."}, [2794] = {36, "Crunch."}, [2795] = {432, "Crunch."},
	[2796] = {300, "Crunch."}, 	[5097] = {48, "Yum."}, [5678] = {96, "Gulp."}, [6125] = {96, "Mmmm."},
	[6278] = {120, "Mmmm."}, [6279] = {180, "Mmmm."}, [6393] = {144, "Mmmm."}, [6394] = {180, "Mmmm."},
	[6501] = {240, "Mmmm."}, [6541] = {72, "Gulp."}, [6542] = {72, "Gulp."}, [6543] = {72, "Gulp."},
	[6544] = {72, "Gulp."}, [6545] = {72, "Gulp."}, [6569] = {12, "Mmmm."}, [6574] = {60, "Mmmm."},
	[7158] = {300, "Munch."}, [7159] = {180, "Munch."}, [7372] = {0, "Yummy."}, [7373] = {0, "Yummy."},
	[7374] = {0, "Yummy."},	[7375] = {0, "Yummy."}, [7376] = {0, "Yummy."}, [7377] = {0, "Yummy."},
	[7963] = {720, "Munch."},  [8838] = {120, "Gulp."}, [8839] = {60, "Yum."}, [8840] = {12, "Yum."},
	[8841] = {12, "Urgh."}, [8842] = {84, "Munch."}, [8843] = {60, "Crunch."}, [8844] = {12, "Gulp."},
	[8845] = {60, "Munch."}, [8847] = {132, "Yum."}, [9005] = {88, "Slurp."}, [9996] = {0, "Slurp."},
	[10454] = {0, "Your head begins to feel better."}, [11136] = {120, "Mmmm."}, [11246] = {180, "Yum."},
	[11370] = {36, "Urgh."}
}

SPECIAL_FOODS = {
	[9992] = {"Gulp."}, [9993] = {"Chomp."}, [9994] = {"Chomp."}, [9995] = {"Chomp."}, [9997] = {"Yum."},
	[9998] = {"Munch."}, [9999] = {"Chomp."}, [10000] = {"Mmmm."}, [10001] = {"Smack."}

}

JUICE_FRUITS = {2673,2674, 2675, 2676, 2678, 2679, 2680, 2681, 2682, 2683, 2684, 2685, 2686, 5097}
--addOutfit(cid, OUTFIT_HUNTER,1,getPlayerSex(cid))
OUTFIT_CITIZEN = 1
OUTFIT_HUNTER = 2
OUTFIT_MAGE = 3
OUTFIT_KNIGHT = 4
OUTFIT_NOBLEMAN = 5
OUTFIT_SUMMOMER = 6
OUTFIT_WARRIOR = 7
OUTFIT_BARBARIAN = 8
OUTFIT_DRUID = 9
OUTFIT_WIZARD = 10
OUTFIT_ORIENTAL = 11
OUTFIT_PIRATE = 12
OUTFIT_ASSASIN = 13
OUTFIT_BEGAR = 14
OUTFIT_SHAMAN = 15
OUTFIT_NORSEMAN = 16
OUTFIT_NIGHTMARE = 17
OUTFIT_JESTER = 18
OUTFIT_BROTHERHOOD = 19

function addOutfit(cid, outfitid, addons, sex)

	if sex == 0 then
		--female
		if outfitid == OUTFIT_CITIZEN then
			looktype = 136
		elseif outfitid == OUTFIT_HUNTER then
			looktype = 137
		elseif outfitid == OUTFIT_MAGE then
			looktype = 138
		elseif outfitid == OUTFIT_KNIGHT then
			looktype = 139
		elseif outfitid == OUTFIT_NOBLEMAN then
			looktype = 140
		elseif outfitid == OUTFIT_SUMMOMER then
			looktype = 141
		elseif outfitid == OUTFIT_WARRIOR then
			looktype = 142
		elseif outfitid == OUTFIT_BARBARIAN then
			looktype = 147
		elseif outfitid == OUTFIT_DRUID then
			looktype = 148
		elseif outfitid == OUTFIT_WIZARD then
			looktype = 149
		elseif outfitid == OUTFIT_ORIENTAL then
			looktype = 150
		elseif outfitid == OUTFIT_PIRATE then
			looktype = 155
		elseif outfitid == OUTFIT_ASSASIN then
			looktype = 156
		elseif outfitid == OUTFIT_BEGAR then
			looktype = 157
		elseif outfitid == OUTFIT_SHAMAN then
			looktype = 158
		elseif outfitid == OUTFIT_NORSEMAN then
			looktype = 252
		elseif outfitid == OUTFIT_NIGHTMARE then
			looktype = 269
		elseif outfitid == OUTFIT_JESTER then
			looktype = 270
		elseif outfitid == OUTFIT_BROTHERHOOD then
			looktype = 279
		elseif outfitid == OUTFIT_DEMONHUNTER then
			looktype = 288		
		else
			debugPrint("addOutfit unk female oufitid:"..outfitid)
			return false
		end
	else
		if outfitid == OUTFIT_CITIZEN then
			looktype = 128
		elseif outfitid == OUTFIT_HUNTER then
			looktype = 129
		elseif outfitid == OUTFIT_MAGE then
			looktype = 130
		elseif outfitid == OUTFIT_KNIGHT then
			looktype = 131
		elseif outfitid == OUTFIT_NOBLEMAN then
			looktype = 132
		elseif outfitid == OUTFIT_SUMMOMER then
			looktype = 133
		elseif outfitid == OUTFIT_WARRIOR then
			looktype = 134
		elseif outfitid == OUTFIT_BARBARIAN then
			looktype = 143
		elseif outfitid == OUTFIT_DRUID then
			looktype = 144
		elseif outfitid == OUTFIT_WIZARD then
			looktype = 145
		elseif outfitid == OUTFIT_ORIENTAL then
			looktype = 146
		elseif outfitid == OUTFIT_PIRATE then
			looktype = 151
		elseif outfitid == OUTFIT_ASSASIN then
			looktype = 152
		elseif outfitid == OUTFIT_BEGAR then
			looktype = 153
		elseif outfitid == OUTFIT_SHAMAN then
			looktype = 154
		elseif outfitid == OUTFIT_NORSEMAN then
			looktype = 251
		elseif outfitid == OUTFIT_NIGHTMARE then
			looktype = 268
		elseif outfitid == OUTFIT_JESTER then
			looktype = 273
		elseif outfitid == OUTFIT_BROTHERHOOD then
			looktype = 278
		elseif outfitid == OUTFIT_DEMONHUNTER then
			looktype = 289		
		else
			debugPrint("addOutfit unk male oufitid:"..outfitid)
			return false
		end
	end
	doPlayerAddOutfit(cid, looktype, addons)
	return true
end

function useRope(cid, item, frompos, item2, topos)
	if(topos.x == 0 and topos.y == 0 and topos.z == 0) then
		doPlayerSendDefaultCancel(cid, RETURNVALUE_NOTPOSSIBLE)
		return true
	end

	if(topos.x == CONTAINER_POSITION) then
		doPlayerSendDefaultCancel(cid, RETURNVALUE_NOTPOSSIBLE)
		return true
	end

	local newPos = {x = topos.x, y = topos.y, z = topos.z, stackpos = 0}
	local groundItem = getThingfromPos(newPos)
	if (isInArray(ROPE_SPOT, groundItem.itemid) ) then
		newPos.y = newPos.y + 1
		newPos.z = newPos.z - 1
		doTeleportThing(cid, newPos)
	elseif (isInArray(OPENED_HOLE, groundItem.itemid) or isInArray(OPENED_TRAP, groundItem.itemid) or isInArray(DOWN_LADDER, groundItem.itemid) ) then
		newPos.y = newPos.y + 1
		local downPos = {x = topos.x, y = topos.y, z = topos.z + 1, stackpos = 255}
		local downItem
        	if getBooleanFromString(getConfigValue("can_hope_creatures"), true) then
			downItem = getThingFromPos(downPos)
		else
			local topCreature = getTopCreature(downPos)
			if topCreature.uid ~= 0 and isPlayer(getCreatureMaster(topCreature.uid)) then --is summon of a player or a player itself
				downItem = topCreature
			else
				local ammountItems = getTileThingByPos({x = downPos.x , y = downPos.y, z = downPos.z, stackpos = -1})
				for aux = 1, ammountItems - 1 do
					local it = getTileThingByPos({x = downPos.x , y = downPos.y, z = downPos.z, stackpos = aux })
					if isValidUID(it.uid) and not isCreature(it.uid) and hasProperty(it.uid, CONST_PROP_MOVEABLE) then
						downItem = it
						break
					end
				end
			end
		end
		if downItem ~= nil and (downItem.itemid > 0) then
			doTeleportThing(downItem.uid, newPos)
		else
			doPlayerSendDefaultCancel(cid, RETURNVALUE_NOTPOSSIBLE)
		end
	else
		return false
	end
	return true
end

function useShovel(cid, item, frompos, item2, topos)
local TILE_SAND 		= 	9059
local ITEM_SCARAB_COIN 		= 	2159
local TUMB_ENTRANCE		= 	1345
local SCARAB_TILE		=	101
local MUD_HOLE		=	489
local SCARAB_COIN_TILE		= 	102
local duration = 5 * 60000 -- 5 minutes

	if (isInArray(CLOSED_HOLE, item2.itemid) ) then
		if item2.itemid == 8579 then
			doTransformItem(item2.uid, 8585)
		else
			doTransformItem(item2.uid, item2.itemid + 1)
		end
	elseif (item2.itemid == TILE_SAND) then
		if (item2.actionid == TUMB_ENTRANCE) then
			if (math.random(1, 5) == 1) then
				doTransformItem(item2.uid, MUD_HOLE)
				addEvent(__doTransformHole__, duration, {oldType = item2.itemid, pos = topos, oldaid = item2.actionid})
				if item2.actionid ~= 0 then
					doSetItemActionId(item2.uid, item2.actionid)
				end
			end
		elseif (item2.actionid == SCARAB_TILE) then
			if (math.random(1, 20) == 1) then
				doSummonCreature("Scarab", topos)
				doSetItemActionId(item2.uid, SCARAB_TILE + 2)
			end
		elseif (item2.actionid == SCARAB_COIN_TILE) then
			if (math.random(1, 20) == 1) then
				doCreateItem(ITEM_SCARAB_COIN, topos)
				doSetItemActionId(item2.uid, SCARAB_COIN_TILE + 2)
			end
		elseif (item2.actionid == SCARAB_TILE + 2) then
			if (math.random(1, 40) == 1) then
				doSetItemActionId(item2.uid, SCARAB_TILE)
			end
		elseif (item2.actionid == SCARAB_COIN_TILE + 2) then
			if (math.random(1, 40) == 1) then
				doSetItemActionId(item2.uid, SCARAB_COIN_TILE)
			end
		end
		doSendMagicEffect(topos, CONST_ME_POFF)
	else
		return false
	end

	doDecayItem(item2.uid)
	return true
end